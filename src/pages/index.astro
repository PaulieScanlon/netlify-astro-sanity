---
export const prerender = false;
import { sanityClient } from 'sanity:client';

const posts = await sanityClient.fetch(`*[_type == "post" && defined(slug)] | order(publishedAt desc)`);
---

<html>
  <body>
    <h1>Blog</h1>
    <ul>
      {
        posts.map((post) => (
          <li>
            <a href={'/posts/' + post.slug.current} class='post-link'>
              {post.title}
            </a>
          </li>
        ))
      }
    </ul>
  </body>
</html>
